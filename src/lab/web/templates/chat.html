{% extends "base.html" %}
{% block title %}Chat | Local LLM Lab{% endblock %}
{% block content %}
<section class="panel">
  <h1>Chat</h1>
  <form method="post">
    <label for="model">Model</label>
    <input id="model" name="model" value="{{ model }}" placeholder="llama3 (optional)" />

    <label for="prompt">Prompt</label>
    <textarea id="prompt" name="prompt">{{ prompt }}</textarea>

    <label for="temperature">Temperature</label>
    <input id="temperature" name="temperature" type="number" step="0.1" value="{{ temperature }}" />

    <label for="num_ctx">num_ctx</label>
    <input id="num_ctx" name="num_ctx" type="number" value="{{ num_ctx }}" />

    <button type="submit">Send</button>
  </form>
</section>

{% if error %}
<section class="error">{{ error }}</section>
{% endif %}
{% if warnings %}
<section class="panel">
  <h2>Warnings</h2>
  <ul>
    {% for warning in warnings %}
    <li class="meta">{{ warning }}</li>
    {% endfor %}
  </ul>
</section>
{% endif %}

{% if result %}
<section class="panel">
  <h2>Response</h2>
  <p class="meta">Model: {{ result.model }} | Latency: {{ result.latency_ms }} ms</p>
  <pre>{{ result.text }}</pre>
</section>
{% endif %}
{% endblock %}
